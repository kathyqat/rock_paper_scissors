<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>

<body>
    <main>
        <button id="rock" type="button">Rock</button>
        <button id="paper" type="button">Paper</button>
        <button id="scissors" type="button">Scissors</button>

        <div id="result"></div>
    </main>

    <script>
        function computerPlay(){
            switch (getRandomInt()){
                case 0:
                    return 'Rock';
                    break;
                case 1:
                    return 'Paper';
                    break;
                case 2:
                    return 'Scissors';
                    break;
                default: ;
            };
        };

        function getRandomInt() {
            return Math.floor(Math.random() * 3);
        };

        let winner;

        function playRound(playerSelection, computerSelection){
            playerSelection = playerSelection.toUpperCase();
            computerSelection = computerSelection.toUpperCase();
            
            switch(true){
                case (playerSelection == computerSelection):
                    winner = "Tie! Play again"
                    break;
                case ((playerSelection == "ROCK") && (computerSelection == "PAPER")):
                    winner = "You Lose! Paper beats Rock"
                    break;
                case ((playerSelection == "ROCK") && (computerSelection == "SCISSORS")):
                    winner = "You Win! Rock beats Scissors"
                    break;
                case ((playerSelection == "PAPER") && (computerSelection == "SCISSORS")):
                    winner = "You Lose! Scissors beats Paper"
                    break;
                case ((playerSelection == "PAPER") && (computerSelection == "ROCK")):
                    winner = "You Win! Paper beats Rock"
                    break;
                case ((playerSelection == "SCISSORS") && (computerSelection == "ROCK")):
                    winner = "You Lose! Rock beats Scissors"
                    break;
                case ((playerSelection == "SCISSORS") && (computerSelection == "PAPER")):
                    winner = "You Win! Scissors beats Paper"
                    break;
                case (playerSelection != "ROCK" || playerSelection != "PAPER" || playerSelection != "SCISSORS"):
                    winner = "Please re-enter your choice";
                    break;
                default: ;
            };
            return winner;
        };

        let buttons = document.querySelectorAll('button');

        buttons.forEach((button) => {
            button.addEventListener('click', (e) => {
                let computerSelection = computerPlay; 
                let playerSelection = e.target.getAttribute('id');
                let resultDiv = document.querySelector('div');

                // console.log(playRound(playerSelection, computerSelection()));
                resultDiv.innerHTML += `${playRound(playerSelection, computerSelection())}
                <br>`;
            });
        });


        // let playerWins = 0;
        // let playerLosses = 0;
        // let games = 0;

        // function game(){           
        //     do {
        //         let playerSelection = window.prompt("Best out of 5! Rock, paper, or scissors?");
        //         let computerSelection = computerPlay;
        //         console.log(playRound(playerSelection, computerSelection()));

        //         if (winner.substr(0, 7) == "You Win"){
        //             playerWins++;
        //             games++;
        //         }
        //         else if (winner.substr(0, 8) == "You Lose"){
        //             playerLosses++;
        //             games++;
        //         }
        //         else{};
        //     } while (games < 5 && playerWins < 3 && playerLosses < 3);

        //     if (playerWins >= 3){
        //         console.log("You've won! Congrats!");
        //     }
        //     else {
        //         console.log("GG EZ, computer wins");
        //     };

        //     playerWins = 0;
        //     playerLosses = 0;
        //     games = 0;
        // };
    </script>
</body>
</html>